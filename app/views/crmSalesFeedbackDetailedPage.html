<style>

  .well{
    background: ghostwhite;
    border: none;
    margin-top:-10px;
  }
  .name{
    /* display: block;
     position: relative;
     height: 105px;*/
    color:black;
    background: white;
    margin-top:10px;
    /* border-radius: 10px;*/
    /*margin:15px 0px 0px 0px;*/
  }
  .name-text{
    margin-left:5px;
    margin-top:5px;
    font-size: 16px;
  }
  .addr{
    float:right;
    font-size: 14px;
    margin:5px 15px 0px 0px;
    color:grey;
  }

  .heading{
    color:grey;
    font-weight: bold;
  }
  .heading1{
    color:black;
    /* font-weight: lighter;*/
    margin-right:1px;
  }

  .dashboardStatusPanel{
    border-left: 5px solid #0083ca;
    cursor: pointer;
    padding: 5px 30px 15px 30px;
    box-shadow: 1px 1px 2px rgb(210, 213, 219) , 0 0 25px rgb(210, 213, 219) , 0 0 5px rgb(210, 213, 219) ;
    border-radius: 10px;
  }
  .image{
    margin-top: -40px;
    width:55px;
    background: white;
    border-radius:50%;
  }

  .update-service{
    /*width:90%;*/
    height:80px;
    display: block;
    border: 1px solid #0083ca;
    color:#0083ca;
    /*font-weight:bold;*/
    border-radius: 5px;
    margin-right: 5%;
    /*margin-top: 25px;
    position: absolute;*/
  }
  .personal{
    width:200px;
    height: 20px;
    background: #fff;
    position: absolute;
    top:-13px;
    margin-left:90px;
    text-align: center;
  }
  .drop-down{
    margin-top: 7%;
    width:50%;
    height: 30px;
    /*border-radius: 10px;*/
  }

  /* privacy page css starts */

  .privacy-menu{
    padding-right: 0px !important;
    margin-left:60px;
  }
  .menu-list{
    list-style-type: none;
    padding: 0;
  }
  .privacy-menu .menu-list > li {
    /*background: #e6e6e6;*/
    /*border-radius: 10px;*/
    /*border-bottom-left-radius: 0px;*/
    /*border-bottom-right-radius: 0px;*/
    font-size: 15px;
    cursor: pointer;
    line-height: 30px;
    padding-right: 5px;
    color:grey;
  }
  .privacy-menu .menu-list > li.active{
    background-color: #fff;
    border-bottom: 3px solid #0083CA;
    color: #0083CA;
  }
  .privacy-menu .menu-list > li:hover {
    /*background-color: #f2f2f2;*/
    /*color: #0083CA;*/
  }

  .historyStyle{
    float: left;
    margin-left:11%;
  }
  .historyStyle1{
    float: left;
    margin-left:2%;
  }

  .borderHistory {
    padding: 0 10px 0 10px;
    border-radius: 15px;
    -webkit-border-radius: 15px;
    -moz-border-radius: 15px;
    /* color:grey;*/
    /*font-size: 12px;*/
  }
  .appointmentHistoryTable th {
    background-color: #a6a6a6;
    color:#494949;
  }
  .callerHistoryTable th {
    background-color: #a6a6a6;
    color:#494949;
  }
  .details{
    min-height: 120px;
  }
  .AMCdetailsStyle{
    min-height: 60px;
  }

  #smsTextMsg {
    width: 90%;
    height: 170px;
    border-radius: 20px;
    border: 1px solid #0083ca;
    background-color:white;
    margin-top:15px;
    padding-bottom: 110px;
    padding-left: 20px;
    outline:none;
  }
  .uploadCharStyle{
    color:grey;
    margin-left:80%;
  }
  .uploadCharStyle2{
    color:grey;
    margin-left:1%;margin-top:-4%;
  }

  #sendSmsButton{
    background-color:  #0083ca;
    color:#FFFFFF;
    padding: 2px 30px 2px 30px;
    border-radius: 15px;
    outline: 0;
    border:none !important;
  }
  .attach{
    margin-top:-28px;
  }
  .sidenav {
    max-height: 500px;
    width: 16%;
    position: fixed;
    float:right;
    z-index: 1;
    top: 125px;
    left: 2px;
    background-color: #f2f2f2;
    overflow-x: hidden;
    /*padding-top: 20px;*/
  }

  .sidenav a {
    padding-left: 10px;
    text-decoration: none;
    font-size: 13px;
    color: black;
    display: block;
    /*margin-top:0px;*/
    margin-bottom: 4px;
  }
  .sidenav p{
    font-size: 11px;
    /*border-bottom:1px solid grey;*/
    color:grey;
    margin-bottom: 0px;
  }
  .sidenav center{
    margin-top:3px;
    margin-bottom: 3px;
    font-weight: bold;
  }

  /*.sidenav a:hover {*/
  /*color: #f1f1f1;*/
  /*}*/
  #historyDetailsModal .modal-dialog{
    width:90%;
    overflow-x: none;
  }
  #historyDetailsModal .modal-body {
    min-height:350px;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    box-shadow: 1px 1px 2px rgb(210, 213, 219) , 0 0 25px rgb(210, 213, 219) , 0 0 5px rgb(210, 213, 219) ;
    font-style: montserrat;
    font-size: 12px;
    font-weight: normal;
  }

  th, td {
    text-align: center;
    padding: 8px;
    color:#a6a6a6;
  }

  tr:nth-child(even){background-color: #f2f2f2}

  th {
    background-color: #E0E0E0;
    color:#494949;

  }
  /* html {
     overflow-y: scroll;
     overflow-y: scroll;
   }*/
</style>

<div class="container-fluid">

  <div class="row">

    <div class="col-sm-8" style="margin-top:-1.5%;">
      <div class="panel panel-default crmDashboardApptStyle" style="border:none;">
        <div class="panel-heading" id="apptMainHeader">
          <center style="font-size: 16px"><span id="apptMainHeader" class="pull-left" style="cursor:pointer;" ng-click="goBackward()" ui-sref="salesFeedback"><span class="glyphicon glyphicon-backward"></span> Back</span>Appointment Id : {{tcAppointmentData.apptId}} <span id="apptMainHeader" class="pull-right" style="cursor:pointer;" ng-click="skipAppointment()"><span class=""></span> Skip</span></center></div>
        <div class="panel-body" style="margin-top:-1.5%;">
          <div class="row">
            <div class="well name dashboardStatusPanel">
              <h4 class="name-text">{{tcAppointmentData.customer_name}}<span class="addr">{{tcAppointmentData.customer_address}}</span></h4>
              <div class="radio-inline" style="margin-left:-14px;">
                <label class="teleCallingDashBoardRadio-custom-label">
                  <select class="btn form-control borderHistory btn-primary" style="outline: 0;" ng-init="currentMobile = customerMobileNumbers[0]" ng-model="currentMobile" name="mobileNo"
                          ng-options="mobile for mobile in customerMobileNumbers"  required>
                    <!--<option value="">Mobile</option>-->
                  </select>
                </label>
              </div>
              <div class="radio-inline" style="margin-left:-12px;">
                <label class="">
                  <i class="glyphicon glyphicon-earphone btn btn-primary" style="border-radius: 40%" data-toggle="tooltip" title="Call" ng-click="callTeleCallingCustomer(tcAppointmentData,currentMobile)"></i>
                </label>
              </div>
              <div class="radio-inline" style="margin-left:-12px;">
                <label class="">
                  <i class="glyphicon glyphicon-comment btn btn-primary" style="border-radius: 40%" aria-pressed="true" data-toggle="modal" data-toggle="tooltip" title="Send SMS" data-target="#smsModal"></i>
                </label>
              </div>
              <div class="radio-inline" style="margin-left:-12px;">
                <label class="">
                  <i class="glyphicon glyphicon-plus btn btn-primary" style="border-radius: 40%" aria-pressed="true" data-toggle="modal" data-toggle="tooltip" title="Add Phone Number" data-target="#editPhoneModal" ng-click="clearPhoneUpdateMsg()"></i>
                </label>
              </div>
              <div class="radio-inline" style="margin-left:-12px;">
                <label class="">
                  <i class="glyphicon glyphicon-pencil btn btn-primary" style="border-radius: 40%" aria-pressed="true" data-toggle="modal" data-toggle="tooltip" title="Update Service Center" data-target="#updateServiceCenterModal" ng-click="clearServiceCenterUpdateMsg()"></i>
                </label>
              </div>
            </div><br>
            <div class="row" style="font-size: 13px;">
              <div class="col-sm-6 col-xs-12">
                <div class="dashboardStatusPanel">
                  <center><img src="images/Group 383.png" class="image"></center>
                  <!--<center>--><p style="color:#0083ca;font-weight: bold;">Bike Details: </p><!--</center>-->
                  <div class="details">
                    <div class="row">
                      <div class="col-md-4">
                        <p class="heading">Bike No.</p>
                      </div>
                      <div class="col-md-8">
                        <p class="heading1">{{tcAppointmentData.bikeNo}}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4">
                        <p class="heading">Chassis No.</p>
                      </div>
                      <div class="col-md-8">
                        <p class="heading1">{{tcAppointmentData.chassisNo}}</p>
                      </div>
                    </div>
                    <!--<div class="row">
                      <div class="col-md-4">
                        <p class="heading">Bike Brand</p>
                      </div>
                      <div class="col-md-8">
                        <p class="heading1">{{tcAppointmentData.bikeBrand}}</p>
                      </div>
                    </div>-->
                    <div class="row">
                      <div class="col-md-4">
                        <p class="heading">Bike Model</p>
                      </div>
                      <div class="col-md-8">
                        <p class="heading1">{{tcAppointmentData.bikeModel}}</p>
                      </div>
                    </div>
                    <!--<div class="row">
                      <div class="col-md-4">
                        <p class="heading">Bike Type</p>
                      </div>
                      <div class="col-md-8">
                        <p class="heading1">{{tcAppointmentData.bikeType}}</p>
                      </div>
                    </div>-->
                    <div class="row">
                      <div class="col-md-4">
                        <p class="heading">Date Of Sale</p>
                      </div>
                      <div class="col-md-8">
                        <p class="heading1">{{tcAppointmentData.dateOfSale}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-xs-12">
                <div class="dashboardStatusPanel">
                  <center><img src="images/Group 384.png" class="image"></center>
                  <!--<center>--><p style="color:#0083ca;font-weight: bold;">Service Details: </p><!--</center>-->
                  <div class="details">
                    <div class="row">
                      <div class="col-md-6">
                        <p class="heading">Service Due Date </p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.serviceDueDate}}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="heading">Service Due Type</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.serviceDueType}}</p>
                      </div>
                    </div>
                    <!--<div class="row">
                      <div class="col-md-6">
                        <p class="heading">Last Service Date</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.lastServiceDate}}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="heading">Last Service Type</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.lastServiceType}}</p>
                      </div>
                    </div>-->
                    <!--<div class="row">
                      <div class="col-md-6">
                        <p class="heading">Service Availed At</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.serviceAvailedAt}}</p>
                      </div>
                    </div>-->
                    <div class="row">
                      <div class="col-md-6">
                        <p class="heading">Over Due Date</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.overDueDate}}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="heading">Service Center</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.scName}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> <br>

            <div class="row" style="font-size: 13px;">
              <div class="col-sm-6 col-md-6 col-xs-12">

                <div class="dashboardStatusPanel">
                  <!--<center><p>AMC</p></center>-->
                  <p style="color:#0083ca;font-weight: bold;padding:3px;">AMC Details: </p>
                  <div class="AMCdetailsStyle">
                    <div class="row">
                      <div class="col-md-6">
                        <p class="heading">Valid Date</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.validTo}}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="heading">AMC Remaining</p>
                      </div>
                      <div class="col-md-6">
                        <p class="heading1">{{tcAppointmentData.amcCount}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-sm-6 col-md-6 col-xs-12">
                <div class="dashboardStatusPanel">
                  <!-- <center><p>Insurance</p></center>-->
                  <p style="color:#0083ca;font-weight: bold;padding:3px;">Insurance Details: </p>
                  <div class="AMCdetailsStyle">

                  </div>
                </div>

              </div>

            </div>

            <!--<center>
              <button class="btn btn-primary" style="margin-top: 2%;outline:0;" data-toggle="modal" data-target="#historyDetailsModal"><span class="glyphicon glyphicon-menu-hamburger"></span>  History</button>
            </center>-->


          </div></div></div></div>

    <div class="col-sm-4">
      <div class="" style="margin-top:-15px;">
        <div class="well" style="border-radius:10px; margin-right: 5%;">
          <p class="" style="color:#0083ca;font-weight: bold;text-align: center;">Last Appointment History</p>
          <div class="row" style="font-size: 13px;">
            <div class="col-md-6">
              <p class="heading">Last Service Date</p>
            </div>
            <div class="col-md-6">
              <p class="heading1">{{tcAppointmentData.lastServiceDate}}</p>
            </div>
          </div>
          <div class="row" style="font-size: 13px;">
            <div class="col-md-6">
              <p class="heading">Last Service Type</p>
            </div>
            <div class="col-md-6">
              <p class="heading1">{{tcAppointmentData.lastServiceType}}</p>
            </div>
          </div>
          <div class="row" style="font-size: 13px;">
            <div class="col-md-6">
              <p class="heading">Last Called Date</p>
            </div>
            <div class="col-md-6">
              <p class="heading1">{{tcAppointmentData.lastCalledDate}}</p>
            </div>
          </div>
          <div class="row" style="font-size: 13px;">
            <div class="col-md-6">
              <p class="heading">Last Called Status</p>
            </div>
            <div class="col-md-6">
              <p class="heading1">{{tcAppointmentData.lastCalledStatus}}</p>
            </div>
          </div>
          <div class="row" style="font-size: 13px;">
            <div class="col-md-6">
              <p class="heading">Last Converted Status</p>
            </div>
            <div class="col-md-6">
              <p class="heading1">{{tcAppointmentData.lastConvertedStatus}}</p>
            </div>
          </div>
          <div class="row" style="font-size: 13px;">
            <div class="col-md-6">
              <p class="heading">Last KM Reading</p>
            </div>
            <div class="col-md-6">
              <p class="heading1">{{tcAppointmentData.kmReading}}</p>
            </div>
          </div>
          <div class="row" style="font-size: 13px;">
            <div class="col-md-6">
              <p class="heading">No. Of Times Called To Customer</p>
            </div>
            <div class="col-md-6">
              <p class="heading1">{{tcAppointmentData.callsmade}}</p>
            </div>
          </div>
          <center>
            <button class="btn btn-primary" style="outline:0; padding:2px; width: 30%; font-size:13px;" data-toggle="modal" data-target="#historyDetailsModal"><span style="font-size:11px;" class="glyphicon glyphicon-menu-hamburger"></span>  History</button>
          </center>
        </div>

        <div class="well" style="border-radius:10px; margin-right: 5%">
          <p class="" style="color:#0083ca;font-weight: bold;text-align: center;">Update Status</p>
          <div class="" ng-repeat="status in teleCallingStatusForPsfUpdate">
            <label style="font-size: 13px;" class="teleCallingDashBoardRadio-custom-label">
              <input type="radio" class="teleCallingDashBoardRadio-custom" name="teleCallingOption" value="{{status.description}}" ng-model="statusOption" ng-click="updateTeleCallingStatus(statusOption,tcAppointmentData)" data-toggle="modal" data-target="#teleCallingStatusUpdateModal">
              <span>{{status.description}}</span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="teleCallingStatusUpdateModal" role="dialog" data-backdrop="false">
  <div class="modal-dialog modal-lg">

    <!-- TeleCaller Modal content-->
    <div class="modal-content">
      <div class="modal-header teleCallerDashboardModalHeader">
        <button type="button" class="close" data-dismiss="modal" ng-click="clearUpdateMsg()">&times;</button>
        <h4 class="modal-title"><center>{{selectedStatus}}</center></h4>
      </div>
      <div class="modal-body">
        <!--<p><b>Customer Name : </b>{{updateTeleCallingAppointmentStatus.tclUsername}}</p>
        <p><b>Customer Mobile : </b>{{updateTeleCallingAppointmentStatus.tclMobile}}</p>-->
        <div class="row">
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Name : </span><span class="apptDetailTextStyle"> {{updateTeleCallingAppointmentStatus.customer_name}}</span>
            </div>
          </div>
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Mobile : </span><span class="apptDetailTextStyle"> {{updateTeleCallingAppointmentStatus.customer_mobile}}</span>
            </div>
          </div>
        </div><br>
        <div class="row">
          <div class="col-md-12 col-sm-12 apptDetailTextHeader">
            <div class="col-sm-11">
              <p>Update Status:</p>
            </div>
          </div>
        </div>


        <!-- Walkin and Call Later Form -->
        <form name="walkinCallLaterForm" novalidate ng-submit="updateAppointmentStatus(selectedStatus,updateTeleCallingAppointmentStatus,walkinStatus)" ng-show="selectedStatus === 'Walkin' || selectedStatus === 'Call Later'">
          <div class="form-group col-md-6 col-sm-6" ng-if="walkinStatus.remarks === 'Customer will call and Confirm' || walkinStatus.remarks === 'Out of Station' || walkinStatus.remarks === 'Customer Busy'">
            <input type="text" class="form-control teleCallingUpdateStatusInputStyle" datetime-picker="yyyy-MM-dd" enable-time="false" ng-click="openCalendarStatus($event)" min-date="minDate" ng-model="walkinStatus.selectedDate" is-open="isOpenFromStatus" placeholder="Select Date *" ng-change="getSelectedDate(walkinStatus.selectedDate)"  readonly required/>
          </div>
          <div class="form-group col-md-6 col-sm-6" ng-if="walkinStatus.remarks === 'Customer will call and Confirm' || walkinStatus.remarks === 'Out of Station' || walkinStatus.remarks === 'Customer Busy'">
            <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="walkinStatus.timeValue" name="AppointmentTime"
                    ng-options="object.value as object.timeSelect for object in timeSlot" required>
              <option value="">Select Time *</option></select>
          </div>

          <div class="form-group col-md-6 col-sm-6" ng-if="(walkinStatus.remarks === 'Customer agreed to Walkin' || walkinStatus.remarks === 'Customer tentively agreed to Walkin')">
            <input type="text" class="form-control teleCallingUpdateStatusInputStyle" datetime-picker="yyyy-MM-dd" enable-time="false" ng-click="openCalendarStatus($event)" min-date="minDate" ng-model="walkinStatus.selectedDate" is-open="isOpenFromStatus" placeholder="Select Date *" ng-change="getSelectedDate(walkinStatus.selectedDate)"  readonly required/>
          </div>
          <div class="form-group col-md-6 col-sm-6" ng-if="(walkinStatus.remarks === 'Customer agreed to Walkin' || walkinStatus.remarks === 'Customer tentively agreed to Walkin')">
            <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="walkinStatus.timeValue" name="AppointmentTime"
                    ng-options="object.value as object.timeSelect for object in timeSlot" required>
              <option value="">Select Time *</option></select>
          </div>
          <div class="form-group col-md-6 col-sm-6" ><!--ng-if="showWalkinReason"-->
            <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="walkinStatus.remarks" name="notInterestedRemarks"
                    ng-options="reason.apptSubStatus as reason.apptSubStatus for reason in reasonDescription" ng-change="checkDatesByReason(walkinStatus.remarks,walkinStatus.selectedDate)" required>
              <option value="">Select Reason *</option>
            </select>
          </div>

          <div class="form-group col-md-6 col-sm-6">
            <input type="text" class="form-control teleCallingUpdateStatusInputStyle" ng-model="walkinStatus.manualRemarks" name="walkinStatusManualRemarks" placeholder="Enter Remarks"/>
          </div><br><br>
          <!--<p>Hello this is testing</p>-->
          <div class="row">
            <div class="form-group col-md-12 col-sm-12">
              <center>
                <button type="submit" class="btn teleCallerDashboardModalBtn" ng-disabled="walkinCallLaterForm.$invalid">Update</button> <!--onclick="$('teleCallingStatusUpdateModal').modal('hide')"-->
              </center>
            </div>
          </div>
        </form>


        <!-- Feedback Form -->
        <form name="feedbackForm" novalidate ng-submit="updateUserFeedBack(title,feedBackRemarksObject,updateTeleCallingAppointmentStatus)" ng-show="selectedStatus === 'Feedback'">
          <div class="row" ng-repeat="title in feedbackTitleList track by $index"  ng-if="title.feedBackType === 'sales'">
            <div class="col-sm-1">
              {{$index + 1}}
            </div>
            <div class="col-sm-5">
              {{title.description}}
            </div>
            <div class="col-sm-3">
              <label ng-if="title.questionType === 'YesandNo'" class="radio-inline"><input type="radio" ng-model="title.feedBackStatus" value="Yes" required>Yes</label>
              <label ng-if="title.questionType === 'YesandNo'" class="radio-inline"><input type="radio" ng-model="title.feedBackStatus" value="No" required>No</label>
              <input-stars ng-if="title.questionType !== 'YesandNo'" max="5" ng-model="title.rating" style="margin-left:-30px;" required></input-stars>
            </div>

            <div class="col-sm-3">
              <input type="text" class="form-control" ng-model="title.feedBackRemarks" placeholder="Remarks" style="margin-left:-20%; margin-bottom: 10px;">
            </div>
          </div>
          <div class="row" ng-if="feedbackPickAndDropData.pickAndDrop !== 'Yes'">
            <div class="col-sm-3">
              <b>Walkin :</b>
            </div>
            <div class="col-sm-4">
              <label class="teleCallingDashBoardRadio-custom-label">
                <input type="radio" class="teleCallingDashBoardRadio-custom" name="feedbackWalkin" ng-model="feedbackWalkinData.walkin" value="Yes" ng-click="getWalkinReason('walkin')" required>
                <span>Yes</span>
              </label>
              <label class="teleCallingDashBoardRadio-custom-label">
                <input type="radio"  class="teleCallingDashBoardRadio-custom"  name="feedbackWalkin" ng-model="feedbackWalkinData.walkin" value="No" required>
                <span>No</span>
              </label>
            </div>
          </div>

          <div class="row" ng-if="feedbackWalkinData.walkin !== 'Yes'">
            <div class="col-sm-3">
              <b>Pickup And Drop :</b>
            </div>
            <div class="col-sm-4">
              <label class="teleCallingDashBoardRadio-custom-label">
                <input type="radio" class="teleCallingDashBoardRadio-custom" name="feedbackPickAndDrop" ng-model="feedbackPickAndDropData.pickAndDrop" value="Yes" ng-click="checkPickDrop()" required>
                <span>Yes</span>
              </label>
              <label class="teleCallingDashBoardRadio-custom-label">
                <input type="radio"  class="teleCallingDashBoardRadio-custom"  name="feedbackPickAndDrop" ng-model="feedbackPickAndDropData.pickAndDrop" value="No" required>
                <span>No</span>
              </label>
            </div>
          </div>

          <div class="row" ng-if="feedbackWalkinData.walkin === 'Yes'"><br>
            <div class="col-sm-3">
              <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="walkinStatus.remarks" name="notInterestedRemarks"
                      ng-options="reason.apptSubStatus as reason.apptSubStatus for reason in reasonDescription" ng-change="checkDatesByReason(walkinStatus.remarks,walkinStatus.selectedDate)" required>
                <option value="">Select Reason *</option>
              </select>
            </div>
            <div class="col-sm-3" ng-if="(walkinStatus.remarks === 'Customer agreed to Walkin' || walkinStatus.remarks === 'Customer tentively agreed to Walkin')">
              <input type="text" class="form-control teleCallingUpdateStatusInputStyle" datetime-picker="yyyy-MM-dd" enable-time="false" ng-click="openCalendarStatus($event)" min-date="minDate" ng-model="feedbackWalkinData.feedbackWalkinDate" is-open="isOpenFromStatus" placeholder="Select Date *" ng-change="getSelectedDate(feedbackWalkinData.feedbackWalkinDate)"  readonly ng-required="dealerFeedback.walkin === 'Yes'" required/>
            </div>
            <div class="col-sm-3" ng-if="(walkinStatus.remarks === 'Customer agreed to Walkin' || walkinStatus.remarks === 'Customer tentively agreed to Walkin')">
              <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="feedbackWalkinData.feedbackWalkinTime" name="AppointmentTime"
                      ng-options="object.value as object.timeSelect for object in timeSlot" required>
                <option value="">Select Slot *</option></select>
            </div>
          </div>

          <div ng-if="feedbackPickAndDropData.pickAndDrop === 'Yes'"><br>
            <div class="form-group col-md-4 col-sm-4">
              <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="feedbackPickAndDropData.feedbackPickDropAssistanceTypeData" name="assistanceTypeDetail"
                      ng-options="assistance.id as assistance.assistanceType for assistance in assistanceTypes" ng-change="getAssistanceType(feedbackPickAndDropData.feedbackPickDropAssistanceTypeData)" required>
                <option value="">Select Assistance Type *</option>
              </select>
            </div>

            <div class="form-group col-md-4 col-sm-4">
              <input type="textbox" class="form-control teleCallingUpdateStatusInputStyle" ng-model="feedbackPickAndDropData.feedbackPickDropAddress" placeholder="Address *" required/>
            </div>

            <div class="form-group col-md-4 col-sm-4">
              <input type="textbox" class="form-control teleCallingUpdateStatusInputStyle" g-places-autocomplete ng-model="feedbackPickAndDropData.feedbackPickDropArea" placeholder="Area *" autocomplete="off" ng-change="getPickupDropArea(feedbackPickAndDropData.feedbackPickDropArea,feedbackPickAndDropData.feedbackPickDropDate)"  required/>
            </div>

            <div class="form-group col-md-4 col-sm-4">
              <input type="textbox" class="form-control teleCallingUpdateStatusInputStyle" datetime-picker="yyyy-MM-dd" enable-time="false" ng-click="openCalendarStatus($event)" ng-focus="openCalendarStatus($event)" min-date="minDate" ng-model="feedbackPickAndDropData.feedbackPickDropDate" ng-change="getPickupDropArea(feedbackPickAndDropData.feedbackPickDropArea,feedbackPickAndDropData.feedbackPickDropDate)" is-open="isOpenFromStatus" placeholder="Select Date *" required readonly/>
            </div>
            <div class="form-group col-md-4 col-sm-4">
              <input type="textbox" class="form-control teleCallingUpdateStatusInputStyle" ng-model="feedbackPickAndDropData.feedbackPickDropRemarks" placeholder="Remarks" />
            </div>
            <div class="form-group col-md-4 col-sm-4" ng-if="opdIdForPickAndDrop === '0'">
              <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="feedbackPickAndDropData.feedbackPickDropTime" name="AppointmentTime"
                      ng-options="object.value as object.timeSelect for object in timeSlot" required>
                <option value="">Select Time *</option></select>
            </div>

            <div class="form-group col-md-4 col-sm-4" ng-if="opdIdForPickAndDrop >0">
              <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="feedbackPickAndDropData.feedbackPickDropSlot" name="slot"
                      ng-options="slot.slotValue as slot.slotTime for slot in timeSlotData">
                <option value="">Select Slot *</option>
              </select>
            </div>

            <div class="col-sm-4">
              <input type="textbox" class="form-control teleCallingUpdateStatusInputStyle" ng-model="feedbackPickAndDropData.feedbackPickDropAssistanceAmount" placeholder="Assistance Amount *" required/>
            </div>

          </div>



          <div class="row">
            <div class="form-group col-md-12 col-sm-12">
              <center>
                <button type="submit" class="btn teleCallerDashboardModalBtn" ng-disabled="feedbackForm.$invalid">Update</button>
              </center>
            </div>
          </div>
        </form>
        <center class="text-success" ng-if="tcStatusUpdateMsg">{{tcStatusUpdateMsg.msg}}<p>{{tcStatusUpdateMsg.nextApptMsg}}</p></center>

      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div> -->
    </div>

  </div>
</div>




<div class="modal fade" id="historyDetailsModal" role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- TeleCaller Modal content-->
    <div class="modal-content">
      <div class="modal-header teleCallerDashboardModalHeader">
        <button type="button" class="close" data-dismiss="modal" ng-click="clearUpdateMsg()">&times;</button>
        <h4 class="modal-title"><center>History</center></h4>
      </div>
      <div class="modal-body">

        <div class="container-fluid">
          <div class="privacy-menu">
            <ul class="menu-list">
              <li class="historyStyle" data-target="#serviceHistory" data-toggle="tab">Service History</li>
              <li  data-target="#callHistory" data-toggle="tab" class="active historyStyle1">Call History</li>
            </ul>
          </div><br><br>

          <div class="col-md-12 col-sm-12 col-xs-12" style="margin-left:9%; margin-right:0%;">
            <div class="tab tab-content">
              <div class="tab-pane active" id="callHistory">
                <div class="col-md-11 col-sm-11 col-xs-11">
                  <div class="">
                    <div class="panel-body">
                      <div class="modal-body table-responsive attach">
                        <table class="table table-striped table-responsive callerHistoryTable" style="margin-left:10px;">
                          <thead>
                          <tr class="text-muted">
                            <th>Sl No.</th>
                            <th>Id</th>
                            <th>Caller Name</th>
                            <th>Appointment Status</th>
                            <th>Appointment Sub Status</th>
                            <th>Remarks</th>
                            <th>Scheduled Date/Time</th>
                            <th>Updated Date</th>
                          </tr>
                          </thead>
                          <tbody>
                          <tr class="" ng-repeat="history in tcAppointmentHistoryData">
                            <td>{{history.slNo}}</td>
                            <td>{{history.apptId}}</td>
                            <td>{{history.callerName}}</td>
                            <td>{{history.apptStatus}}</td>
                            <td>{{history.apptSubStatus}}</td>
                            <td>{{history.remarks}}</td>
                            <td>{{history.rescheduleDate}}</td>
                            <td>{{history.create_ts}}</td>
                          </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-1 col-sm-1 col-xs-1">
                  <div class="sidenav">
                    <center>Customer Details</center>
                    <a><p>Customer Name</p>{{tcAppointmentData.customer_name}}</a>
                    <a><p>Bike No.</p>{{tcAppointmentData.bikeNo}}</a>
                    <a><p>Chassis No.</p>{{tcAppointmentData.chassisNo}}</a>
                    <a><p>Bike Model</p>{{tcAppointmentData.bikeModel}}</a>
                    <a><p>Service Center</p>{{tcAppointmentData.scName}}</a>
                    <a><p>Current Service Due Type</p>{{tcAppointmentData.serviceDueType}}</a>
                    <a><p>Date of Sale</p>{{tcAppointmentData.dateOfSale}}</a>
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="serviceHistory">
                <div class="col-md-11 col-sm-11 col-xs-11">
                  <div class="">
                    <div class="panel-body">
                      <div class="modal-body table-responsive attach">
                        <!--<div class="col-md-12 col-sm-12">-->
                        <table class="table table-striped table-responsive appointmentHistoryTable" style="margin-left:10px;">
                          <thead>
                          <tr class="text-muted">
                            <th>Service Date</th>
                            <th>Service Type</th>
                            <th>Service Advisor</th>
                            <th>Jobcard No.</th>
                            <th>KM Reading</th>
                            <th>Total Amount</th>
                          </tr>
                          </thead>
                          <tbody>
                          <tr class="" ng-repeat="history in tcServiceHistoryData">
                            <td>{{history.serviceDate}}</td>
                            <td>{{history.serviceType}}</td>
                            <td>{{history.serviceAdvisor}}</td>
                            <td>{{history.jobCardNumber}}</td>
                            <td>{{history.kmReading}}</td>
                            <td>{{history.totalAmount |number:2}}</td>
                          </tr>
                          </tbody>
                        </table>
                        <!-- </div>-->
                        <center class="text-danger" ng-if="tcServiceHistoryDataErrorMsg">{{tcServiceHistoryDataErrorMsg}}</center>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-1 col-sm-1 col-xs-1">
                  <div class="sidenav">
                    <center>Customer Details</center>
                    <a><p>Customer Name</p>{{tcAppointmentData.customer_name}}</a>
                    <a><p>Bike No.</p>{{tcAppointmentData.bikeNo}}</a>
                    <a><p>Chassis No.</p>{{tcAppointmentData.chassisNo}}</a>
                    <a><p>Bike Model</p>{{tcAppointmentData.bikeModel}}</a>
                    <a><p>Service Center</p>{{tcAppointmentData.scName}}</a>
                    <a><p>Current Service Due Type</p>{{tcAppointmentData.serviceDueType}}</a>
                    <a><p>Date of Sale</p>{{tcAppointmentData.dateOfSale}}</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>

<div class="loader" ng-if="loaderIcon === true">
  <center><img src="images/Loading_2.gif" style="width: 12%;"></center>
</div>

<div class="modal fade" id="smsModal" role="dialog">
  <div class="modal-dialog">

    <!-- TeleCaller Modal content-->
    <div class="modal-content">
      <div class="modal-header teleCallerDashboardModalHeader">
        <button type="button" class="close" data-dismiss="modal" ng-click="clearUpdateMsg()">&times;</button>
        <h4 class="modal-title"><center>Send SMS</center></h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Name : </span><span class="apptDetailTextStyle"> {{tcAppointmentData.customer_name}}</span>
            </div>
          </div>
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Mobile : </span><span class="apptDetailTextStyle"> {{tcAppointmentData.customer_mobile}}</span>
            </div>
          </div>
        </div>

        <div class="container-fluid">
          <form name="sendSMSForm" ng-submit="sendSCSMS(scSMS,tcAppointmentData.customer_mobile)">

            <div class="row" style="text-align: center;margin-left:5px;">
              <div class="col-sm-12">
                <textarea  id="smsTextMsg" cols="35" rows="10" ng-model="scSMS.message" placeholder="Enter your text here (upto 500 characters)" ng-trim="false" ng-maxlength="500" required></textarea>
              </div>
            </div>
            <!--<div class="pull-right">
              <span ng-if="500 - scSMS.message.length > 0">{{500 - scSMS.message.length}} left</span>
            </div>-->
            <div class="uploadCharStyle">
              <span> Max : 500 char</span>
            </div>
            <div class="pull-left uploadCharStyle2">
              <span class="apptDetailTextHeaderStyle" ng-if="scSMS.message.length === undefined">0</span><span class="apptDetailTextHeaderStyle">{{scSMS.message.length}}</span><span> Character(s)  =  </span><span class="apptDetailTextHeaderStyle" ng-if="scSMS.message.length === undefined">0</span> <span class="apptDetailTextHeaderStyle" ng-if="scSMS.message.length !== undefined"> {{(scSMS.message.length) /160 |rounded}}</span><span> SMS</span>
            </div>

            <div>
              <center><button type="submit" id="sendSmsButton" class="btn btn-primary" ng-disabled="sendSMSForm.$invalid">Send SMS</button></center>
            </div>

          </form>
        </div>

      </div>
    </div>

  </div>
</div>

<div class="modal fade" id="editPhoneModal" role="dialog">
  <div class="modal-dialog">

    <!-- TeleCaller Modal content-->
    <div class="modal-content">
      <div class="modal-header teleCallerDashboardModalHeader">
        <button type="button" class="close" data-dismiss="modal" ng-click="clearUpdateMsg()">&times;</button>
        <h4 class="modal-title"><center>Add Phone</center></h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Name : </span><span class="apptDetailTextStyle"> {{tcAppointmentData.customer_name}}</span>
            </div>
          </div>
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Mobile : </span><span class="apptDetailTextStyle"> {{tcAppointmentData.customer_mobile}}</span>
            </div>
          </div>
        </div><br>

        <form name="editPhoneForm" novalidate ng-submit="editPhoneNumber(phoneObj.updatedPhoneNumber,tcAppointmentData)">

          <div class="form-group col-md-12 col-sm-12">
            <input type="number" class="form-control teleCallingUpdateStatusInputStyle" ng-model="phoneObj.updatedPhoneNumber" name="mobile" placeholder="Enter Alternate Phone Number" required ng-maxlength="10" ng-minlength="10"/>
            <span ng-show="editPhoneForm.mobile.$dirty && editPhoneForm.mobile.$error.minlength || editPhoneForm.mobile.$error.maxlength" class="help-block validationMsg">Enter 10 digit mobile number</span></center>
          </div>

          <div class="form-group col-md-12 col-sm-12">
            <input type="text" class="form-control teleCallingUpdateStatusInputStyle" ng-model="tcAppointmentData.customer_name" name="customerName" placeholder="Enter Alternate Customer Name" required/>
          </div>

          <div class="row">
            <div class="form-group col-md-12 col-sm-12">
              <center>
                <button type="submit" class="btn teleCallerDashboardModalBtn" ng-disabled="editPhoneForm.$invalid">Update</button> <!--onclick="$('#teleCallingStatusUpdateModal').modal('hide')"-->
              </center>
            </div>
          </div>
          <center class="text-success" ng-if="editPhoneSuccessMsg">{{editPhoneSuccessMsg}}</center>
          <center class="text-danger" ng-if="editPhoneErrorMsg">{{editPhoneErrorMsg}}</center>
        </form>

      </div>
    </div>

  </div>
</div>
<div class="modal fade" id="updateServiceCenterModal" role="dialog">
  <div class="modal-dialog">

    <!-- TeleCaller Modal content-->
    <div class="modal-content">
      <div class="modal-header teleCallerDashboardModalHeader">
        <button type="button" class="close" data-dismiss="modal" ng-click="clearUpdateMsg()">&times;</button>
        <h4 class="modal-title"><center>Update Service Center</center></h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Name : </span><span class="apptDetailTextStyle"> {{tcAppointmentData.customer_name}}</span>
            </div>
          </div>
          <div class="col-md-6 col-sm-6">
            <div class="col-sm-11">
              <span class="apptDetailTextHeaderStyle">Customer Mobile : </span><span class="apptDetailTextStyle"> {{tcAppointmentData.customer_mobile}}</span>
            </div>
          </div>
        </div><br>

        <form name="updateServiceCenterForm" novalidate ng-submit="updateServiceCenter(tcAppointmentData.apptId,tcAppointmentData.branchId,serviceCenterObj.selectedServiceCenterToUpdate)">
          <div class="form-group col-md-10 col-sm-10">
            <select class="form-control teleCallingUpdateStatusInputStyle" ng-model="serviceCenterObj.selectedServiceCenterToUpdate" name="serviceCenterData"
                    ng-options="sc.scId as sc.scName for sc in serviceCenterToUpdate" required>
              <option value="">Select Service Center</option>
            </select>
          </div>
          <div class="row">
            <div class="form-group col-md-12 col-sm-12">
              <center>
                <button type="submit" class="btn teleCallerDashboardModalBtn" ng-disabled="updateServiceCenterForm.$invalid">Update</button> <!--onclick="$('#teleCallingStatusUpdateModal').modal('hide')"-->
              </center>
            </div>
          </div>
          <center class="text-success" ng-if="updateServiceCenterSuccessMsg">{{updateServiceCenterSuccessMsg}}</center>
          <center class="text-danger" ng-if="updateServiceCenterErrorMsg">{{updateServiceCenterErrorMsg}}</center>
        </form>

      </div>
    </div>

  </div>

</div>
